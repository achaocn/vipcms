<?php global $phpjiami_decrypt;$phpjiami_decrypt['ÖÃÄÖ¯¥®Ö¾®Ä¾”ÖÃ¯ˆ¥ˆÄ”¯¥ÁÄÄÖ']=base64_decode('Rg=='); ?>
<?php
 class score_item_cateModel extends Model{public function name_exists($name, $id=0){$pk =$this->getPk();$where ="name='" . $name . "'  AND ". $pk ."<>'" . $id . "'";$result =$this->where($where)->count($pk);if ($result){return true;}else {return false;}}public function get_name($id){if (false === $cate_list =$GLOBALS['phpjiami_decrypt']['ÖÃÄÖ¯¥®Ö¾®Ä¾”ÖÃ¯ˆ¥ˆÄ”¯¥ÁÄÄÖ']('score_item_cate_list')){$cate_list =$this->cate_cache();}if (isset($cate_list[$id])){return $cate_list[$id]['name'];}else {return false;}}public function cate_cache(){$cate_list =array();$cate_data =$this->where('status=1')->order('ordid')->select();foreach ($cate_data as $val){$cate_list[$val['id']] =$val;}$GLOBALS['phpjiami_decrypt']['ÖÃÄÖ¯¥®Ö¾®Ä¾”ÖÃ¯ˆ¥ˆÄ”¯¥ÁÄÄÖ'](base64_decode('c2NvcmVfaXRlbV9jYXRlX2xpc3Q='), $cate_list);return $cate_list;}protected function _before_write(&$data){$GLOBALS['phpjiami_decrypt']['ÖÃÄÖ¯¥®Ö¾®Ä¾”ÖÃ¯ˆ¥ˆÄ”¯¥ÁÄÄÖ']('score_item_cate_list', NULL);}protected function _after_delete($data, $options){$GLOBALS['phpjiami_decrypt']['ÖÃÄÖ¯¥®Ö¾®Ä¾”ÖÃ¯ˆ¥ˆÄ”¯¥ÁÄÄÖ']('score_item_cate_list', NULL);}}