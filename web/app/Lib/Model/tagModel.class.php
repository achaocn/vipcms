<?php global $phpjiami_decrypt;$phpjiami_decrypt['Áý®ÃÄ®Ã‹À¾ÄÁÄý‹ÃŽÖÁýÃÁÖ®¾ÃÃ®‹¯Ã¥']=base64_decode('dmVuZG9y'); ?>
<?php
class tagModel extends Model {public function ajax_yg_publish($item){$result['name'] =$item['name'];$result['ename'] =$item['ename'];if ($this->where(array('ename'=>$item['ename']))->count()){return 0;}$this->create($item);$item_id =$this->add();if ($item_id){return 1;}else {return 0;}}public function get_tags_by_title($title, $num=4){$GLOBALS['phpjiami_decrypt']['Áý®ÃÄ®Ã‹À¾ÄÁÄý‹ÃŽÖÁýÃÁÖ®¾ÃÃ®‹¯Ã¥']('pscws4.pscws4', '', '.class.php');$pscws =new pscws4('utf-8');$pscws -> set_charset('utf-8');$pscws->set_dict(FTX_DATA_PATH . 'scws/dict.utf8.xdb');$pscws->set_rule(FTX_DATA_PATH . 'scws/rules.utf8.ini');$pscws->set_ignore(true);$pscws->send_text($title);$words =$pscws->get_tops($num);$pscws->close();$tags =array();foreach ($words as $val){$tags[] =$val['word'];}return $tags;}public function name_exists($name,$id=0){$where ="name='" . $name . "' AND id<>'" . $id . "'";$result =$this->where($where)->count('id');if ($result){return true;}else {return false;}}}